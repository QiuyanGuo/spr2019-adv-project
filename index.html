<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Qiuyan Guo's SPR2019-ADV Project</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/white.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

    <link href="https://fonts.googleapis.com/css?family=Questrial" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

    <link rel="stylesheet/less" type="text/css" href="styles.less" />

</head>
<body>

    <h1>Hello there!</h1>

    <div id="vis"></div>

    <!-- This is from the example embedded vega-lite demo -->
    <script type="text/javascript">
        var yourVlSpec = 
            {
                $schema: 'https://vega.github.io/schema/vega-lite/v3.0.json',
                description: 'A simple bar chart with embedded data.',
                data: {
                    name: 'champaign_zoning', url: './champaign.topojson',
                    "format": {
                        "type": "topojson",
                        "feature": "Zoning"
                    }
                },
                "transform": [
                    {
                        "lookup":"properties.zoning_description",
                        "from": {
                            "field": ["base_tupe"],
                            "data": {
                                "values":[
                                    {'Code': 'CB1', 'base_type': 'Commercial'},
                                    {'Code': 'CB2', 'base_type': 'Commercial'},
                                    {'Code': 'CB3', 'base_type': 'Commercial'},
                                    {'Code': 'CG', 'base_type': 'Commercial'},
                                    {'Code': 'CI', 'base_type': 'Commercial'},
                                    {'Code': 'CN', 'base_type': 'Commercial'},
                                    {'Code': 'CO', 'base_type': 'Commercial'},
                                    {'Code': 'I1', 'base_type': 'Industrial'},
                                    {'Code': 'I2', 'base_type': 'Industrial'},
                                    {'Code': 'IBP', 'base_type': 'Commercial'},
                                    {'Code': 'IOP', 'base_type': 'Commercial'},
                                    {'Code': 'IT-MF', 'base_type': 'Residential'},
                                    {'Code': 'IT-MX', 'base_type': 'Residential'},
                                    {'Code': 'IT-NC', 'base_type': 'Residential'},
                                    {'Code': 'IT-SF1', 'base_type': 'Residential'},
                                    {'Code': 'IT-SF2', 'base_type': 'Residential'},
                                    {'Code': 'MF1', 'base_type': 'Residential'},
                                    {'Code': 'MF2', 'base_type': 'Residential'},
                                    {'Code': 'MF3', 'base_type': 'Residential'},
                                    {'Code': 'MFUniv', 'base_type': 'Residential'},
                                    {'Code': 'MHP', 'base_type': 'Residential'},
                                    {'Code': 'SF1', 'base_type': 'Residential'},
                                    {'Code': 'SF2', 'base_type': 'Residential'},
                                ] 
                                },
                            
                            "key": "code"
                        }
                    }
                ],
                "mark": "geoshape",
                "projection": {
                    "type": "albersUsa"
                },
                "encoding": {
                    "color": {"field": "base_code", "type": "nominal"}
                }
            };
        vegaEmbed('#vis', yourVlSpec);
    </script>
    
<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js" ></script>
</body>
</html>
